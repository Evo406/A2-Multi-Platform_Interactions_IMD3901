<html>
    <head>
        <script src="/socket.io/socket.io.js"></script>
    </head>
    <body>
        <button id="red_button" style="background-color:rgb(255,0,0); color:rgb(255,255,255);">RED</button>
        <button id="blue_button" style="background-color:rgb(0, 0, 255); color:rgb(255,255,255);">BLUE</button>
    </body>
    <!-- Script tag at the end of the page for load order -->
    <script>
        let socket = io();

        socket.on('connect', (userData) => {
            console.log('I exist in the network, yay!');

            document.querySelector('#red_button').addEventListener('click', function(e) {
                socket.emit('red');
            });

            document.querySelector('#blue_button').addEventListener('click', function(e) {
                socket.emit('blue');
            });

            //listen for custom color_change event
            socket.on('color_change', (data) => {
                //make a css color, then apply to the baackground of body
                let colorStr = 'rgb(' + data.r + ',' + data.g + ',' + data.b + ')';
                console.log('colour_cange: ' + colorStr);
                document.body.style.backgroundColor = colorStr;
            });
        });
    </script>
</html>